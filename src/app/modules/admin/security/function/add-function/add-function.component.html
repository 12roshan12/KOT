

<div class="w-full">


    <div class="mt-2  mx-auto text-3xl font-bold mx-3">Add Function</div>

    <div class=" my-4 mx-4">
        <div class="container-fluid  ">

            <div class="flex flex-col flex-auto min-w-0">
                <div class="font-sans antialiased ">

                    <div class="w-full bg-white shadow">
                        <div class="container p-2">
                            <div class="container-fluid my-2 p-2">
                                <form [formGroup]="functionform" class="m-4">
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width mb-3" appearance="outline">
                                                <mat-label>Name</mat-label>
                                                <input formControlName="name" matInput required>
                                                <mat-error>
                                                    Name is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width mb-3" appearance="outline">
                                                <mat-label>Description</mat-label>
                                                <input matInput formControlName="description">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                                            <mat-form-field class="example-full-width mb-3" appearance="outline">
                                                <mat-label>Status</mat-label>
                                                <mat-select formControlName="status" required>
                                                    <mat-option [value]="1">
                                                        Active
                                                    </mat-option>
                                                    <mat-option [value]="0">
                                                        Inactive
                                                    </mat-option>
                                                </mat-select>
                                                <mat-error>
                                                    Status is required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
        
                                    </div>
                                    <div class="row">
                                        <div class="mb-2">
                                            <button mat-button class="right" (click)="addNew()"
                                                style="padding: 5px;float: right; " class="btn btn-primary">
                                                <i class="fa fa-plus-circle"></i>
                                                New Entity
                                            </button>
                                        </div>
                                        <mat-expansion-panel class="mb-1" *ngFor="let data of selectedList; let i = index">
                                            <mat-expansion-panel-header>
                                                <mat-panel-title>
                                                    {{data.moduleName}}
                                                </mat-panel-title>
                                            </mat-expansion-panel-header>
                                            <div class="row">
                                                <div *ngFor="let check of data.entity" class="col-3">
                                                    <section class="example-section">
                                                        <mat-checkbox [checked]="check.checked"
                                                            (change)="onCheck(check, $event)" value="{{ check.entityId }}"
                                                            class="example-margin">{{check.name }}
                                                        </mat-checkbox>
                                                    </section>
                                                </div>
                                            </div>
        
                                        </mat-expansion-panel>
                                    </div>
                                    <div class="row mt-5">
                                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                                            <button class="mr-3" (click)="Submit()" mat-raised-button
                                                color="primary">Submit</button>
                                            <button type="button"  (click)="Cancel()" mat-button>Cancel</button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <div class="w-full lg:w-full py-4  my-2 ">
                                <div class="font-sans antialiased  mx-3">


                                    <div class=" flex mt-5 justify-end bg-grey-lightest py-2 px-1 ">

                                        <div class="flex flex-row justify-end ">
                                            <button
                                                class="ml-2 mt-2 rounded-sm px-3 py-2 bg-red-700 hover:bg-red-500 text-white focus:shadow-outline focus:outline-none"
                                                (click)="Cancel()">
                                                Cancel
                                            </button>
                                            <button
                                                class="ml-2 mt-2 rounded-sm px-3 py-2 bg-blue-700 hover:bg-blue-500 text-white focus:shadow-outline focus:outline-none"
                                                (click)="Submit()">
                                                Submit
                                            </button>

                                        </div>



                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>